{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import'./AdminPage.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPage=()=>{const[users,setUsers]=useState([]);useEffect(()=>{axios.get('/api/admin/users').then(response=>{setUsers(response.data);}).catch(error=>{console.error('Error fetching users:',error);});},[]);const handleResetPassword=userId=>{const newPassword=prompt('Enter new password:');if(newPassword){axios.post('/api/user/reset-password',{userId,newPassword}).then(response=>{alert('Password reset successfully');}).catch(error=>{console.error('Error resetting password:',error);alert('Failed to reset password');});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"AdminPage\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"User Management\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Legal Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Birthday\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Credits\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.id}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.legal_name}),/*#__PURE__*/_jsx(\"td\",{children:user.birthday}),/*#__PURE__*/_jsx(\"td\",{children:user.credits}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleResetPassword(user.id),children:\"Reset Password\"})]})]},user.id))})]})]});};export default AdminPage;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","AdminPage","users","setUsers","get","then","response","data","catch","error","console","handleResetPassword","userId","newPassword","prompt","post","alert","className","children","map","user","id","username","email","legal_name","birthday","credits","onClick"],"sources":["/workspaces/royal-games-updated/src/features/admin/AdminPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './AdminPage.scss';\r\n\r\nconst AdminPage = () => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get('/api/admin/users')\r\n      .then(response => {\r\n        setUsers(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching users:', error);\r\n      });\r\n  }, []);\r\n\r\n  const handleResetPassword = (userId) => {\r\n    const newPassword = prompt('Enter new password:');\r\n    if (newPassword) {\r\n      axios.post('/api/user/reset-password', { userId, newPassword })\r\n        .then(response => {\r\n          alert('Password reset successfully');\r\n        })\r\n        .catch(error => {\r\n          console.error('Error resetting password:', error);\r\n          alert('Failed to reset password');\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"AdminPage\">\r\n      <h2>User Management</h2>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Username</th>\r\n            <th>Email</th>\r\n            <th>Legal Name</th>\r\n            <th>Birthday</th>\r\n            <th>Credits</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map(user => (\r\n            <tr key={user.id}>\r\n              <td>{user.id}</td>\r\n              <td>{user.username}</td>\r\n              <td>{user.email}</td>\r\n              <td>{user.legal_name}</td>\r\n              <td>{user.birthday}</td>\r\n              <td>{user.credits}</td>\r\n              <td>\r\n                <button>Edit</button>\r\n                <button>Delete</button>\r\n                <button onClick={() => handleResetPassword(user.id)}>Reset Password</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}