{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{Link}from'react-router-dom';import'./Header.scss';import{faCog,faCrown,faUserCircle}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useSelector}from'react-redux';import{SocketContext}from'../../context/socket';import store from'../../store';import lobbySlice from'../../lobbySlice';import CreditExchangeWrapper from'../credit-exchange/CreditExchange';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=()=>{const loggedIn=useSelector(state=>state.lobby.loggedIn);const username=useSelector(state=>state.lobby.username);const balance=useSelector(state=>state.lobby.balance);const socket=useContext(SocketContext);const[menuOpen,setMenuOpen]=useState(false);const[showCreditExchange,setShowCreditExchange]=useState(false);useEffect(()=>{socket.emit('balance',{key:localStorage.getItem('key')});socket.on('balance',balance=>{store.dispatch(lobbySlice.actions.updateBalance(balance));});},[socket]);const toggleMenu=()=>{setMenuOpen(!menuOpen);};const toggleCreditExchange=()=>{setShowCreditExchange(!showCreditExchange);};return/*#__PURE__*/_jsxs(\"header\",{className:\"Header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"brand\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCrown,size:\"2x\",className:\"logo\"}),/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:\"Sloticon\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:`menu ${!loggedIn?'d-none':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"account\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn-toggle-account-menu\",onClick:toggleMenu,children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faUserCircle,size:\"2x\"}),/*#__PURE__*/_jsx(\"span\",{children:username})]}),menuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"account-menu\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/reset-password\",children:\"Reset Password\"})})]})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-settings\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCog,size:\"2x\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:`balance ${!loggedIn?'d-none':''}`,onClick:toggleCreditExchange,children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Balance\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"value\",children:[\"\\u20AC\",balance.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),showCreditExchange&&/*#__PURE__*/_jsx(CreditExchangeWrapper,{onClose:toggleCreditExchange})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","faCog","faCrown","faUserCircle","FontAwesomeIcon","useSelector","SocketContext","store","lobbySlice","CreditExchangeWrapper","jsx","_jsx","jsxs","_jsxs","Header","loggedIn","state","lobby","username","balance","socket","menuOpen","setMenuOpen","showCreditExchange","setShowCreditExchange","emit","key","localStorage","getItem","on","dispatch","actions","updateBalance","toggleMenu","toggleCreditExchange","className","children","to","icon","size","onClick","toLocaleString","minimumFractionDigits","maximumFractionDigits","onClose"],"sources":["/workspaces/royal-games-updated/src/features/header/Header.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Header.scss';\r\nimport { faCog, faCrown, faUserCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { useSelector } from 'react-redux';\r\nimport { SocketContext } from '../../context/socket';\r\nimport store from '../../store';\r\nimport lobbySlice from '../../lobbySlice';\r\nimport CreditExchangeWrapper from '../credit-exchange/CreditExchange';\r\n\r\nconst Header = () => {\r\n  const loggedIn = useSelector((state) => state.lobby.loggedIn);\r\n  const username = useSelector((state) => state.lobby.username);\r\n  const balance = useSelector((state) => state.lobby.balance);\r\n\r\n  const socket = useContext(SocketContext);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [showCreditExchange, setShowCreditExchange] = useState(false);\r\n\r\n  useEffect(() => {\r\n    socket.emit('balance', {\r\n      key: localStorage.getItem('key'),\r\n    });\r\n\r\n    socket.on('balance', (balance) => {\r\n      store.dispatch(lobbySlice.actions.updateBalance(balance));\r\n    });\r\n  }, [socket]);\r\n\r\n  const toggleMenu = () => {\r\n    setMenuOpen(!menuOpen);\r\n  };\r\n\r\n  const toggleCreditExchange = () => {\r\n    setShowCreditExchange(!showCreditExchange);\r\n  };\r\n\r\n  return (\r\n    <header className=\"Header\">\r\n      <div className=\"brand\">\r\n        <Link to=\"/\">\r\n          <FontAwesomeIcon icon={faCrown} size=\"2x\" className=\"logo\"></FontAwesomeIcon>\r\n          <span className=\"name\">Sloticon</span>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className={`menu ${!loggedIn ? 'd-none' : ''}`}>\r\n        <div className=\"account\">\r\n          <button className=\"btn-toggle-account-menu\" onClick={toggleMenu}>\r\n            <FontAwesomeIcon icon={faUserCircle} size=\"2x\"></FontAwesomeIcon>\r\n            <span>{username}</span>\r\n          </button>\r\n          {menuOpen && (\r\n            <div className=\"account-menu\">\r\n              <ul>\r\n                <li><Link to=\"/register\">Register</Link></li>\r\n                <li><Link to=\"/login\">Login</Link></li>\r\n                <li><Link to=\"/profile\">Profile</Link></li>\r\n                <li><Link to=\"/reset-password\">Reset Password</Link></li>\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <button className=\"btn-settings\">\r\n          <FontAwesomeIcon icon={faCog} size=\"2x\"></FontAwesomeIcon>\r\n        </button>\r\n      </div>\r\n\r\n      <div className={`balance ${!loggedIn ? 'd-none' : ''}`} onClick={toggleCreditExchange}>\r\n        <span className=\"label\">Balance</span>\r\n        <span className=\"value\">â‚¬{balance.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</span>\r\n      </div>\r\n\r\n      {showCreditExchange && <CreditExchangeWrapper onClose={toggleCreditExchange} />}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}