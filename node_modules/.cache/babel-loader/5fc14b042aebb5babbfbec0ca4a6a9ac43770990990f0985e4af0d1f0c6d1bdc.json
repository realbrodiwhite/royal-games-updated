{"ast":null,"code":"import { Cache } from '../../assets/cache/Cache.mjs';\nimport { ExtensionType } from '../../extensions/Extensions.mjs';\nimport { BigPool } from '../../utils/pool/PoolGroup.mjs';\nimport { Graphics } from '../graphics/shared/Graphics.mjs';\nimport { SdfShader } from '../text/sdfShader/SdfShader.mjs';\nimport { BitmapFontManager } from './BitmapFontManager.mjs';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout.mjs';\n\"use strict\";\nclass BitmapTextPipe {\n  constructor(renderer) {\n    this._gpuBitmapText = {};\n    this._destroyRenderableBound = this.destroyRenderable.bind(this);\n    this._renderer = renderer;\n  }\n  validateRenderable(bitmapText) {\n    const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n    if (bitmapText._didTextUpdate) {\n      bitmapText._didTextUpdate = false;\n      this._updateContext(bitmapText, graphicsRenderable);\n    }\n    return this._renderer.renderPipes.graphics.validateRenderable(graphicsRenderable);\n  }\n  addRenderable(bitmapText, instructionSet) {\n    const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n    syncWithProxy(bitmapText, graphicsRenderable);\n    if (bitmapText._didTextUpdate) {\n      bitmapText._didTextUpdate = false;\n      this._updateContext(bitmapText, graphicsRenderable);\n    }\n    this._renderer.renderPipes.graphics.addRenderable(graphicsRenderable, instructionSet);\n    if (graphicsRenderable.context.customShader) {\n      this._updateDistanceField(bitmapText);\n    }\n  }\n  destroyRenderable(bitmapText) {\n    bitmapText.off(\"destroyed\", this._destroyRenderableBound);\n    this._destroyRenderableByUid(bitmapText.uid);\n  }\n  _destroyRenderableByUid(renderableUid) {\n    const context = this._gpuBitmapText[renderableUid].context;\n    if (context.customShader) {\n      BigPool.return(context.customShader);\n      context.customShader = null;\n    }\n    BigPool.return(this._gpuBitmapText[renderableUid]);\n    this._gpuBitmapText[renderableUid] = null;\n  }\n  updateRenderable(bitmapText) {\n    const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n    syncWithProxy(bitmapText, graphicsRenderable);\n    this._renderer.renderPipes.graphics.updateRenderable(graphicsRenderable);\n    if (graphicsRenderable.context.customShader) {\n      this._updateDistanceField(bitmapText);\n    }\n  }\n  _updateContext(bitmapText, proxyGraphics) {\n    const {\n      context\n    } = proxyGraphics;\n    const bitmapFont = BitmapFontManager.getFont(bitmapText.text, bitmapText._style);\n    context.clear();\n    if (bitmapFont.distanceField.type !== \"none\") {\n      if (!context.customShader) {\n        context.customShader = BigPool.get(SdfShader);\n      }\n    }\n    const chars = Array.from(bitmapText.text);\n    const style = bitmapText._style;\n    let currentY = bitmapFont.baseLineOffset;\n    const bitmapTextLayout = getBitmapTextLayout(chars, style, bitmapFont, true);\n    let index = 0;\n    const padding = style.padding;\n    const scale = bitmapTextLayout.scale;\n    let tx = bitmapTextLayout.width;\n    let ty = bitmapTextLayout.height + bitmapTextLayout.offsetY;\n    if (style._stroke) {\n      tx += style._stroke.width / scale;\n      ty += style._stroke.width / scale;\n    }\n    context.translate(-bitmapText._anchor._x * tx - padding, -bitmapText._anchor._y * ty - padding).scale(scale, scale);\n    const tint = bitmapFont.applyFillAsTint ? style._fill.color : 16777215;\n    for (let i = 0; i < bitmapTextLayout.lines.length; i++) {\n      const line = bitmapTextLayout.lines[i];\n      for (let j = 0; j < line.charPositions.length; j++) {\n        const char = chars[index++];\n        const charData = bitmapFont.chars[char];\n        if (charData?.texture) {\n          context.texture(charData.texture, tint ? tint : \"black\", Math.round(line.charPositions[j] + charData.xOffset), Math.round(currentY + charData.yOffset));\n        }\n      }\n      currentY += bitmapFont.lineHeight;\n    }\n  }\n  _getGpuBitmapText(bitmapText) {\n    return this._gpuBitmapText[bitmapText.uid] || this.initGpuText(bitmapText);\n  }\n  initGpuText(bitmapText) {\n    const proxyRenderable = BigPool.get(Graphics);\n    this._gpuBitmapText[bitmapText.uid] = proxyRenderable;\n    this._updateContext(bitmapText, proxyRenderable);\n    bitmapText.on(\"destroyed\", this._destroyRenderableBound);\n    return this._gpuBitmapText[bitmapText.uid];\n  }\n  _updateDistanceField(bitmapText) {\n    const context = this._getGpuBitmapText(bitmapText).context;\n    const fontFamily = bitmapText._style.fontFamily;\n    const dynamicFont = Cache.get(`${fontFamily}-bitmap`);\n    const {\n      a,\n      b,\n      c,\n      d\n    } = bitmapText.groupTransform;\n    const dx = Math.sqrt(a * a + b * b);\n    const dy = Math.sqrt(c * c + d * d);\n    const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;\n    const fontScale = dynamicFont.baseRenderedFontSize / bitmapText._style.fontSize;\n    const distance = worldScale * dynamicFont.distanceField.range * (1 / fontScale);\n    context.customShader.resources.localUniforms.uniforms.uDistance = distance;\n  }\n  destroy() {\n    for (const uid in this._gpuBitmapText) {\n      this._destroyRenderableByUid(uid);\n    }\n    this._gpuBitmapText = null;\n    this._renderer = null;\n  }\n}\n/** @ignore */\nBitmapTextPipe.extension = {\n  type: [ExtensionType.WebGLPipes, ExtensionType.WebGPUPipes, ExtensionType.CanvasPipes],\n  name: \"bitmapText\"\n};\nfunction syncWithProxy(container, proxy) {\n  proxy.groupTransform = container.groupTransform;\n  proxy.groupColorAlpha = container.groupColorAlpha;\n  proxy.groupColor = container.groupColor;\n  proxy.groupBlendMode = container.groupBlendMode;\n  proxy.globalDisplayStatus = container.globalDisplayStatus;\n  proxy.groupTransform = container.groupTransform;\n  proxy.localDisplayStatus = container.localDisplayStatus;\n  proxy.groupAlpha = container.groupAlpha;\n  proxy._roundPixels = container._roundPixels;\n}\nexport { BitmapTextPipe };","map":{"version":3,"names":["BitmapTextPipe","constructor","renderer","_gpuBitmapText","_destroyRenderableBound","destroyRenderable","bind","_renderer","validateRenderable","bitmapText","graphicsRenderable","_getGpuBitmapText","_didTextUpdate","_updateContext","renderPipes","graphics","addRenderable","instructionSet","syncWithProxy","context","customShader","_updateDistanceField","off","_destroyRenderableByUid","uid","renderableUid","BigPool","return","updateRenderable","proxyGraphics","bitmapFont","BitmapFontManager","getFont","text","_style","clear","distanceField","type","get","SdfShader","chars","Array","from","style","currentY","baseLineOffset","bitmapTextLayout","getBitmapTextLayout","index","padding","scale","tx","width","ty","height","offsetY","_stroke","translate","_anchor","_x","_y","tint","applyFillAsTint","_fill","color","i","lines","length","line","j","charPositions","char","charData","texture","Math","round","xOffset","yOffset","lineHeight","initGpuText","proxyRenderable","Graphics","on","fontFamily","dynamicFont","Cache","a","b","c","d","groupTransform","dx","sqrt","dy","worldScale","abs","fontScale","baseRenderedFontSize","fontSize","distance","range","resources","localUniforms","uniforms","uDistance","destroy","extension","ExtensionType","WebGLPipes","WebGPUPipes","CanvasPipes","name","container","proxy","groupColorAlpha","groupColor","groupBlendMode","globalDisplayStatus","localDisplayStatus","groupAlpha","_roundPixels"],"sources":["/workspaces/royal-games-updated/node_modules/pixi.js/src/scene/text-bitmap/BitmapTextPipe.ts"],"sourcesContent":["import { Cache } from '../../assets/cache/Cache';\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BigPool } from '../../utils/pool/PoolGroup';\nimport { Graphics } from '../graphics/shared/Graphics';\nimport { SdfShader } from '../text/sdfShader/SdfShader';\nimport { BitmapFontManager } from './BitmapFontManager';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout';\n\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../rendering/renderers/shared/Renderable';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { PoolItem } from '../../utils/pool/Pool';\nimport type { Container } from '../container/Container';\nimport type { BitmapText } from './BitmapText';\n\nexport class BitmapTextPipe implements RenderPipe<BitmapText>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'bitmapText',\n    } as const;\n\n    private _renderer: Renderer;\n    private _gpuBitmapText: Record<number, Graphics> = {};\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n    }\n\n    public validateRenderable(bitmapText: BitmapText): boolean\n    {\n        const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n\n        if (bitmapText._didTextUpdate)\n        {\n            bitmapText._didTextUpdate = false;\n\n            this._updateContext(bitmapText, graphicsRenderable);\n        }\n\n        return this._renderer.renderPipes.graphics.validateRenderable(graphicsRenderable);\n\n        // TODO - need to shift all the verts in the graphicsData to the new anchor\n\n        // update the anchor...\n    }\n\n    public addRenderable(bitmapText: BitmapText, instructionSet: InstructionSet)\n    {\n        const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n\n        // sync..\n        syncWithProxy(bitmapText, graphicsRenderable);\n\n        if (bitmapText._didTextUpdate)\n        {\n            bitmapText._didTextUpdate = false;\n\n            this._updateContext(bitmapText, graphicsRenderable);\n        }\n\n        this._renderer.renderPipes.graphics.addRenderable(graphicsRenderable, instructionSet);\n\n        if (graphicsRenderable.context.customShader)\n        {\n            this._updateDistanceField(bitmapText);\n        }\n    }\n\n    public destroyRenderable(bitmapText: BitmapText)\n    {\n        bitmapText.off('destroyed', this._destroyRenderableBound);\n\n        this._destroyRenderableByUid(bitmapText.uid);\n    }\n\n    private _destroyRenderableByUid(renderableUid: number)\n    {\n        const context = this._gpuBitmapText[renderableUid].context;\n\n        if (context.customShader)\n        {\n            BigPool.return(context.customShader as PoolItem);\n\n            context.customShader = null;\n        }\n\n        BigPool.return(this._gpuBitmapText[renderableUid] as PoolItem);\n        this._gpuBitmapText[renderableUid] = null;\n    }\n\n    public updateRenderable(bitmapText: BitmapText)\n    {\n        const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n\n        // sync..\n        syncWithProxy(bitmapText, graphicsRenderable);\n\n        this._renderer.renderPipes.graphics.updateRenderable(graphicsRenderable);\n\n        if (graphicsRenderable.context.customShader)\n        {\n            this._updateDistanceField(bitmapText);\n        }\n    }\n\n    private _updateContext(bitmapText: BitmapText, proxyGraphics: Graphics)\n    {\n        const { context } = proxyGraphics;\n\n        const bitmapFont = BitmapFontManager.getFont(bitmapText.text, bitmapText._style);\n\n        context.clear();\n\n        if (bitmapFont.distanceField.type !== 'none')\n        {\n            if (!context.customShader)\n            {\n                context.customShader = BigPool.get(SdfShader);\n            }\n        }\n\n        const chars = Array.from(bitmapText.text);\n        const style = bitmapText._style;\n\n        let currentY = bitmapFont.baseLineOffset;\n\n        // measure our text...\n        const bitmapTextLayout = getBitmapTextLayout(chars, style, bitmapFont, true);\n\n        let index = 0;\n\n        const padding = style.padding;\n        const scale = bitmapTextLayout.scale;\n\n        let tx = bitmapTextLayout.width;\n        let ty = bitmapTextLayout.height + bitmapTextLayout.offsetY;\n\n        if (style._stroke)\n        {\n            tx += style._stroke.width / scale;\n            ty += style._stroke.width / scale;\n        }\n\n        context\n            .translate((-bitmapText._anchor._x * tx) - padding, (-bitmapText._anchor._y * ty) - padding)\n            .scale(scale, scale);\n\n        const tint = bitmapFont.applyFillAsTint ? style._fill.color : 0xFFFFFF;\n\n        for (let i = 0; i < bitmapTextLayout.lines.length; i++)\n        {\n            const line = bitmapTextLayout.lines[i];\n\n            for (let j = 0; j < line.charPositions.length; j++)\n            {\n                const char = chars[index++];\n\n                const charData = bitmapFont.chars[char];\n\n                if (charData?.texture)\n                {\n                    context.texture(\n                        charData.texture,\n                        tint ? tint : 'black',\n                        Math.round(line.charPositions[j] + charData.xOffset),\n                        Math.round(currentY + charData.yOffset),\n                    );\n                }\n            }\n\n            currentY += bitmapFont.lineHeight;\n        }\n    }\n\n    private _getGpuBitmapText(bitmapText: BitmapText)\n    {\n        return this._gpuBitmapText[bitmapText.uid] || this.initGpuText(bitmapText);\n    }\n\n    public initGpuText(bitmapText: BitmapText)\n    {\n        // TODO we could keep a bunch of contexts around and reuse one that has the same style!\n        const proxyRenderable = BigPool.get(Graphics);\n\n        this._gpuBitmapText[bitmapText.uid] = proxyRenderable;\n\n        this._updateContext(bitmapText, proxyRenderable);\n\n        bitmapText.on('destroyed', this._destroyRenderableBound);\n\n        return this._gpuBitmapText[bitmapText.uid];\n    }\n\n    private _updateDistanceField(bitmapText: BitmapText)\n    {\n        const context = this._getGpuBitmapText(bitmapText).context;\n\n        const fontFamily = bitmapText._style.fontFamily as string;\n        const dynamicFont = Cache.get(`${fontFamily as string}-bitmap`);\n\n        // Inject the shader code with the correct value\n        const { a, b, c, d } = bitmapText.groupTransform;\n\n        const dx = Math.sqrt((a * a) + (b * b));\n        const dy = Math.sqrt((c * c) + (d * d));\n        const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;\n\n        const fontScale = dynamicFont.baseRenderedFontSize / bitmapText._style.fontSize;\n\n        const distance = worldScale * dynamicFont.distanceField.range * (1 / fontScale);\n\n        context.customShader.resources.localUniforms.uniforms.uDistance = distance;\n    }\n\n    public destroy()\n    {\n        for (const uid in this._gpuBitmapText)\n        {\n            this._destroyRenderableByUid(uid as unknown as number);\n        }\n\n        this._gpuBitmapText = null;\n\n        this._renderer = null;\n    }\n}\n\nfunction syncWithProxy(container: Renderable, proxy: Renderable)\n{\n    proxy.groupTransform = container.groupTransform;\n    proxy.groupColorAlpha = container.groupColorAlpha;\n    proxy.groupColor = container.groupColor;\n    proxy.groupBlendMode = container.groupBlendMode;\n    proxy.globalDisplayStatus = container.globalDisplayStatus;\n    proxy.groupTransform = container.groupTransform;\n    proxy.localDisplayStatus = container.localDisplayStatus;\n    proxy.groupAlpha = container.groupAlpha;\n    proxy._roundPixels = container._roundPixels;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}